{
  "input": {
    "workflow": {
      "103": {
        "inputs": {
          "unet_name": "<%= diffusionModel %>",
          "weight_dtype": "default"
        },
        "class_type": "UNETLoader",
        "_meta": {
          "title": "UNETLoader"
        }
      },
      "104": {
        "inputs": {
          "image": "<%= images[0].name %>",
          "upload": "image"
        },
        "class_type": "LoadImage",
        "_meta": {
          "title": "LoadImage"
        }
      },
      "105": {
        "inputs": {
          "clip_name": "qwen_2.5_vl_7b_fp8_scaled.safetensors",
          "type": "qwen_image",
          "device": "default"
        },
        "class_type": "CLIPLoader",
        "_meta": {
          "title": "CLIPLoader"
        }
      },
      "106": {
        "inputs": {
          "vae_name": "qwen_image_vae.safetensors"
        },
        "class_type": "VAELoader",
        "_meta": {
          "title": "VAELoader"
        }
      },
      "107": {
        "inputs": {
          "prompt": "<%= positivePrompt %>",
          "clip": [
            "105",
            0
          ],
          "vae": [
            "106",
            0
          ],
          "image1": [
            "109",
            0
          ],
          "image2": [
            "117",
            0
          ]
        },
        "class_type": "TextEncodeQwenImageEditPlus",
        "_meta": {
          "title": "TextEncodeQwenImageEditPlus"
        }
      },
      "108": {
        "inputs": {
          "prompt": "<%= negativePrompt %>",
          "clip": [
            "105",
            0
          ],
          "vae": [
            "106",
            0
          ],
          "image1": [
            "109",
            0
          ],
          "image2": [
            "117",
            0
          ]
        },
        "class_type": "TextEncodeQwenImageEditPlus",
        "_meta": {
          "title": "TextEncodeQwenImageEditPlus"
        }
      },
      "109": {
        "inputs": {
          "upscale_method": "nearest-exact",
          "megapixels": 1.5,
          "image": [
            "104",
            0
          ]
        },
        "class_type": "ImageScaleToTotalPixels",
        "_meta": {
          "title": "ImageScaleToTotalPixels"
        }
      },
      "110": {
        "inputs": {
          "pixels": [
            "109",
            0
          ],
          "vae": [
            "106",
            0
          ]
        },
        "class_type": "VAEEncode",
        "_meta": {
          "title": "VAEEncode"
        }
      },
      "111": {
        "inputs": {
          "model": [
            "103",
            0
          ],
          "lora_name": "Qwen-Image-Lightning-4steps-V1.0.safetensors",
          "strength_model": 1
        },
        "class_type": "LoraLoaderModelOnly",
        "_meta": {
          "title": "LoraLoaderModelOnly"
        }
      },
      "112": {
        "inputs": {
          "model": [
            "111",
            0
          ],
          "shift": 3
        },
        "class_type": "ModelSamplingAuraFlow",
        "_meta": {
          "title": "ModelSamplingAuraFlow"
        }
      },
      "113": {
        "inputs": {
          "model": [
            "112",
            0
          ],
          "strength": 1
        },
        "class_type": "CFGNorm",
        "_meta": {
          "title": "CFGNorm"
        }
      },
      "114": {
        "inputs": {
          "seed": 231487791274920,
          "steps": <%- typeof steps === 'number' ? steps : 20 %>,
          "cfg": <%- typeof cfg === 'number' ? cfg : 10 %>,
          "sampler_name": "euler",
          "scheduler": "simple",
          "denoise": 1,
          "model": [
            "113",
            0
          ],
          "positive": [
            "107",
            0
          ],
          "negative": [
            "108",
            0
          ],
          "latent_image": [
            "110",
            0
          ]
        },
        "class_type": "KSampler",
        "_meta": {
          "title": "KSampler"
        }
      },
      "115": {
        "inputs": {
          "samples": [
            "114",
            0
          ],
          "vae": [
            "106",
            0
          ]
        },
        "class_type": "VAEDecode",
        "_meta": {
          "title": "VAEDecode"
        }
      },
      "116": {
        "inputs": {
          "filename_prefix": "ComfyUI",
          "images": [
            "115",
            0
          ]
        },
        "class_type": "SaveImage",
        "_meta": {
          "title": "SaveImage"
        }
      },
      "117": {
        "inputs": {
          "image": "<%= images[1].name %>",
          "upload": "image"
        },
        "class_type": "LoadImage",
        "_meta": {
          "title": "LoadImage"
        }
      }
    },
    "images": <%- JSON.stringify(images) %>
  }
}
